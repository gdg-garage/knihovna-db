<!-- import polymer-element's definition -->
<link rel="import" href="../../../packages/polymer/polymer.html">
<link rel="import" href="book-autocomplete-item.html">

<polymer-element name="book-autocomplete-list"
        on-autocomplete-item-selected="{{handleDirectSelection}}"
        on-autocomplete-item-unselected="{{handleDirectUnselection}}">
  <template>
    <style>
      :host {
        display: block;
        min-height: 10px;

        -webkit-transition: height 1s;
        -moz-transition: height 1s;
        transition: height 1s;
      }

      #autocomplete-click-hint {
        font-size: 80%;
        padding: 0 20px;
        color: #999999;
      }

      #autocomplete-no-book {
        padding: 0 20px;
        text-align: left;
        opacity: 1;

        -webkit-transition: opacity 0.2s;
        -moz-transition: opacity 0.2s;
        transition: opacity 0.2s;
      }

      #autocomplete-no-book.hidden  {
        opacity: 0;
      }

      #autocomplete-no-book span {
        color: red;
      }
    </style>
    <div id="loading" hidden?="{{!isLoading}}">Počkat...</div>
    <div id="suggestions">
      <template repeat="{{book in suggestions}}">
        <book-autocomplete-item book="{{book}}"></book-autocomplete-item>
      </template>
    </div>
    <p id="autocomplete-click-hint" hidden?="{{ isLoading || suggestions.length == 0 }}">&uarr; Našli jste svoji oblíbenou knížku? Klikněte si na ni.</p>
    <p id="autocomplete-no-book" class="{{ isLoading || inputEmpty || suggestions.length > 0 ? 'hidden' : ''}}">
      <span>Tak takovou knížku jsme v databázi bohužel nenašli.</span> Přece jen v ní máme jen asi 70 tisíc nejpůjčovanějších knih. Není ale možné, že ve vašem zadání přebývá či schází písmenko?
    </p>
  </template>
  <script type="application/dart" src="book_autocomplete_list.dart"></script>
</polymer-element>

