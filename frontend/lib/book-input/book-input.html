<!-- import polymer-element's definition -->
<link rel="import" href="../../../packages/polymer/polymer.html">
<link rel="import" href="../../../packages/core_elements/core_ajax_dart.html">
<link rel="import" href="../../../packages/core_elements/core_a11y_keys.html">
<link rel="import" href="../../../packages/paper_elements/paper_input.html">
<link rel="import" href="../../../packages/paper_elements/paper_toast.html">
<link rel="import" href="book-autocomplete-list.html">

<polymer-element name="book-input">
  <template>
    <style>
      :host {
        display: block;
      }

      paper-input {
        width: 100%;
        font-size: 150%;
        color: #03A9F4;
        margin-bottom: 0;
          padding-top: 0;
      }

      paper-progress {
        width: 100%;
        margin-top: 0;
      }
    </style>

    <core-ajax-dart id="ajax"
                    url="/autocomplete/suggestions.json"
                    handleAs="json"></core-ajax-dart>
      <!--url="../../../packages/knihovna_frontend/book-input/mock_response.json"-->

    <core-a11y-keys target="{{}}"
                    keys="up"
                    on-keys-pressed="{{selectUp}}"></core-a11y-keys>

    <core-a11y-keys target="{{}}"
                    keys="down"
                    on-keys-pressed="{{selectDown}}"></core-a11y-keys>

    <core-a11y-keys target="{{}}"
                    keys="enter"
                    on-keys-pressed="{{handleEnterPressed}}"></core-a11y-keys>

    <paper-toast id="enter-toast"
                 text="Vyberte si jednu z knížek a klikněte na ni.">
    </paper-toast>

    <paper-input id="searchbox" label="Oblíbená knížka"
                 on-input="{{handleChange}}"
                 autofocus
                 floatingLabel></paper-input>
    <book-autocomplete-list id="suggestion-list"></book-autocomplete-list>
  </template>
  <script type="application/dart" src="book_input.dart"></script>
</polymer-element>

