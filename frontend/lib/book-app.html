<!-- import polymer-element's definition -->
<link rel="import" href="../../packages/polymer/polymer.html">
<link rel="import" href="../../packages/core_elements/core_toolbar.html">
<link rel="import" href="../../packages/core_elements/core_header_panel.html">
<link rel="import" href="../../packages/core_elements/core_animated_pages.html">
<link rel="import" href="../../packages/paper_elements/paper_icon_button.html">
<link rel="import" href="book-input/book-input.html">
<link rel="import" href="suggestions-loader/suggestions-loader.html">
<link rel="import" href="books-list/books-list.html">
<link rel="import" href="optional-back-button/optional-back-button.html">

<polymer-element name="book-app">
  <template>
    <style>
      :host {
        display: block;
        font-family: 'Roboto', sans-serif;
        color: #333333;
        text-align: justify;

        -webkit-tap-highlight-color: rgba(0,0,0,0);
        -webkit-touch-callout: none;
      }

      section {
        padding: 0 10px;
      }

      core-toolbar {
        background-color: #03A9F4;
      }

      #app-name {
        color: white;
        margin: 0;
        text-align: left;
      }

      h1 {
        font-family: 'Playfair Display SC', serif;
        text-align: center;
        max-width: 500px;
        margin: 30px auto 0;
        font-size: 300%;
      }

      book-input {
        width: 100%;
      }

      #tagline {
        max-width: 500px;
        margin: 30px auto 10px auto;
      }

      #below-input {
        max-width: 500px;
        margin: 30px auto 0 auto;
      }
    </style>

    <core-header-panel fit>
      <core-toolbar>
        <optional-back-button
                backButtonEnabled="{{backButtonEnabled}}"
                on-back-button-tapped="{{goToParentState}}">
        </optional-back-button>
        <div id="app-name"><!-- This is programatically --></div>
      </core-toolbar>

      <!-- The different views ('Activities') of the web app. -->
      <core-animated-pages id='animated-pages'
                           valueattr='id'
                           class="content"
                           transitions="cross-fade-all"
                           fit>
        <section
                id="welcome"
                on-book-selected="{{handleBookInput}}">
          <!--<content select=".tagline"></content>
              - Cannot use because it doesn't work well with
                <core-animated-pages> (it doesn't fade). -->
          <h1 id="h1"></h1>
          <p id="tagline"></p>
          <!--<content select="h1" id="h1"></content>-->
          <!--<content select=".tagline"></content>-->
          <book-input id="book-input"></book-input>
          <!--<content></content>
              - Same as above. -->
          <p id="below-input"></p>
        </section>
        <section id="wait">
          <suggestions-loader
                  id="loader"
                  on-suggestions-loaded="{{handleSuggestionsLoaded}}">
          </suggestions-loader>
        </section>
        <books-list id="list"></books-list>
      </core-animated-pages>
    </core-header-panel>

  </template>
  <script type="application/dart" src="book_app.dart"></script>
</polymer-element>